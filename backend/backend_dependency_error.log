Dependency Error: (builtins.AttributeError) 'str' object has no attribute 'hex'
[SQL: SELECT usuarios.id AS usuarios_id, usuarios.farmacia_id AS usuarios_farmacia_id, usuarios.username AS usuarios_username, usuarios.email AS usuarios_email, usuarios.password_hash AS usuarios_password_hash, usuarios.nombre_completo AS usuarios_nombre_completo, usuarios.rol AS usuarios_rol, usuarios.activo AS usuarios_activo, usuarios.ultimo_acceso AS usuarios_ultimo_acceso, usuarios.created_at AS usuarios_created_at, usuarios.updated_at AS usuarios_updated_at 
FROM usuarios 
WHERE usuarios.id = ?
 LIMIT ? OFFSET ?]
[parameters: [{}]]
Traceback (most recent call last):
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 1496, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\sql\sqltypes.py", line 3734, in process
    value = value.hex
            ^^^^^^^^^
AttributeError: 'str' object has no attribute 'hex'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\app\api\dependencies.py", line 40, in get_current_user
    user = db.query(Usuario).filter(Usuario.id == user_id).first()
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 306, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1821, in _execute_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str(statement), parameters, None, None
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1815, in _execute_context
    context = constructor(
        dialect, self, conn, execution_options, *args, **kw
    )
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 1496, in _init_compiled
    flattened_processors[key](compiled_params[key])
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\samue\.gemini\antigravity\scratch\farmacia-saas\backend\venv\Lib\site-packages\sqlalchemy\sql\sqltypes.py", line 3734, in process
    value = value.hex
            ^^^^^^^^^
sqlalchemy.exc.StatementError: (builtins.AttributeError) 'str' object has no attribute 'hex'
[SQL: SELECT usuarios.id AS usuarios_id, usuarios.farmacia_id AS usuarios_farmacia_id, usuarios.username AS usuarios_username, usuarios.email AS usuarios_email, usuarios.password_hash AS usuarios_password_hash, usuarios.nombre_completo AS usuarios_nombre_completo, usuarios.rol AS usuarios_rol, usuarios.activo AS usuarios_activo, usuarios.ultimo_acceso AS usuarios_ultimo_acceso, usuarios.created_at AS usuarios_created_at, usuarios.updated_at AS usuarios_updated_at 
FROM usuarios 
WHERE usuarios.id = ?
 LIMIT ? OFFSET ?]
[parameters: [{}]]
